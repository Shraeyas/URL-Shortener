## **URL Shortener**
------------------------------------------------------------------------------------------

#### Shorten URLs

<details>
 <summary><code>POST</code> <code><b>/url</b></code> <code><b>/shorten</b></code></summary>

##### Parameters

> | name              |  type     | data type      | description                         |
> |-------------------|-----------|----------------|-------------------------------------|
> | `url`             |  required | string         | The URL to be shortened             |

##### Headers

> | name                  |  type     | data type               | description                                                           |
> |-----------------------|-----------|-------------------------|-----------------------------------------------------------------------|
> | Authorization         |  optional | Bearer                  | Bearer token returned by the login API. If authenticated, the URLs will be logged against the user and can be retrieved later                                |

##### Response Body

> ```javascript
>  {
>     "success": true,
>     "short_url": "http://localhost:5000/EshTLkMTxHT482mr"
>  }
> ```

##### Example cURL

> ```javascript
>  curl -L 'http://localhost:5000/url/shorten' -H 'Content-Type: application/json' -d '{ "url": "https://google.com"}'
> ```

</details>

------------------------------------------------------------------------------------------

#### Login an existing user or Create a new one

<details>
 <summary><code>POST</code> <code><b>/</b></code><code>user</code><code><b>/</b></code><code>login</code> </summary>

##### Request Body

> | name                  |  type     | data type               | description                                                           |
> |-----------------------|-----------|-------------------------|-----------------------------------------------------------------------|
> | google_oauth_sub      |  required | string                  | Unique identifier returned from Google Oauth                          |


##### Response Body

> ```javascript
>  {
>     "token": "JWT",
>     "new_user": false
>  }
> ```

##### Example cURL

> ```javascript
>  curl -L 'http://localhost:5000/user/login' -H 'Content-Type: application/json' -d '{ "google_oauth_sub": "1234567890", }'
> ```



</details>

------------------------------------------------------------------------------------------

#### List the URLs generated by a user

<details>
 <summary><code>POST</code> <code><b>/</b></code><code>user</code><code><b>/</b></code><code>my_urls</code> </summary>

##### Request Body

> None

##### Headers

> | name                  |  type     | data type               | description                                                           |
> |-----------------------|-----------|-------------------------|-----------------------------------------------------------------------|
> | Authorization         |  required | Bearer                  | Bearer token returned by the login API                                |



##### Response Body

> ```javascript
>  [
>     {
>         "base_url": "google.com",
>         "url": "http://google.com",
>         "short_url": "http://127.0.0.1:5000/EseKyBGvpFcwZlTQ",
>         "createdAt": "2023-06-09T06:25:08.202Z"
>     },
>     {
>         "base_url": "bing.com",
>         "url": "http://bing.com",
>         "short_url": "http://127.0.0.1:5000/EsfizntxJ1G2rt4f",
>         "createdAt": "2023-06-09T07:58:06.851Z"
>     },
>  ]
> ```

##### Example cURL

> ```javascript
>  curl -L -X POST 'http://localhost:5000/user/my_urls' -H 'Authorization: Bearer <Bearer Token>' -d ''
> ```

</details>


------------------------------------------------------------------------------------------

#### Summarise the URLs (by count of clicks) generated by a user

<details>
 <summary><code>POST</code> <code><b>/</b></code><code>user</code><code><b>/</b></code><code>summarise</code> <code><b>/</b></code><code>{summarize-by-column}</code> </summary>

##### Request Body

> None

##### Headers

> | name                  |  type     | data type               | description                                                           |
> |-----------------------|-----------|-------------------------|-----------------------------------------------------------------------|
> | Authorization         |  required | Bearer                  | Bearer token returned by the login API                                |



##### Response Body

> ```javascript
>  [
>     {
>         "base_url": "google.com",
>         "count": 4
>     }, {
>         "base_url": "bing.com",
>         "count": 4
>     }, {
>         "base_url": "chat.openai.com",
>         "count": 4
>     }
>  ]
> ```

##### Example cURL

> ```javascript
>  curl -L -X POST 'http://localhost:5000/user/my_urls' -H 'Authorization: Bearer <Bearer Token>' -d ''
> ```

</details>




------------------------------------------------------------------------------------------

